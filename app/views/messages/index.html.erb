<%= stylesheet_link_tag "messages" %>
<%= javascript_include_tag "ajax_scripts/mark_notification_as_read"%>

<div class="d-flex justify-content-between align-items-center mb-3">
    <h3>Direct Messages</h3>
    <button id="mark-all-dm-as-read" class="btn btn-md btn-outline-dark">Mark As Read</button>
</div>

<hr/>

<div id="message-notificaions-container">
    <% @msg_notifications.each do |notification|%>
        <% render_message_if_unread(notification) do %>
        <div class="each-message d-flex justify-content-between align-items-center mb-3">
            <p><%= notification.message.html_safe %></p>
            <% render_view_attachment_btn(notification) do  %>
                <%= link_to "View Attachment", notification.record, class: "view-msg-btn link-dark", data: {"notification-event-id": notification.event.id} %>
            <% end %>
        <% end %>
        </div>
        
    <% end %>
</div>
